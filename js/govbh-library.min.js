!function(t){"use strict";t.Zebra_Tooltips=function(e,i){var s,n,a,o,r={animation_speed:250,animation_offset:20,close_on_click:!0,content:(this.version="2.3.2",!1),hide_delay:100,keep_visible:!0,max_width:250,opacity:".95",position:"center",prerender:!1,show_delay:100,vertical_alignment:"above",vertical_offset:0,onBeforeHide:null,onHide:null,onBeforeShow:null,onShow:null},l=function(e){var i,r,l,d,p,c,m,f,y,g,v=e.data("Zebra_Tooltip"),b=t(window);return v.tooltip||(i=t("<div>",{class:"Zebra_Tooltip",css:{opacity:0,display:"block"}}),r=t("<div>",{class:"Zebra_Tooltip_Message",css:{maxWidth:v.max_width}}).html(v.content).appendTo(i),y=t("<div>",{class:"Zebra_Tooltip_Arrow"}).appendTo(i),l=t("<div>").addClass("Zebra_Tooltip_Arrow_Border").appendTo(y),t("<div>").appendTo(y),v.keep_visible&&(i.on("mouseleave"+(v.close_on_click?" click":""),function(){u(e)}),i.on("mouseenter",function(){h(e)})),i.appendTo("body"),v.sticky&&r.addClass("Zebra_Tooltip_Has_Close"),m=i.outerWidth(),f=i.outerHeight(),g=l.outerWidth(),d=l.outerHeight(),p=r.outerWidth(),c=r.outerHeight(),i.css({width:(v={tooltip:i,tooltip_width:m,tooltip_height:f+d/2,message:r,arrow_container:y,arrow_width:g,arrow_height:d,arrow:l}).tooltip_width,height:v.tooltip_height}),v.tooltip_width=v.tooltip_width+(r.outerWidth()-p),v.tooltip_height=v.tooltip_height+(r.outerHeight()-c),i.css({width:v.tooltip_width+1,height:v.tooltip_height,display:"none"}),v=t.extend(e.data("Zebra_Tooltip"),v),e.data("Zebra_Tooltip",v)),v.sticky&&!v.close&&(t("<a>",{class:"Zebra_Tooltip_Close",href:"javascript:void(0)"}).html("&times;").on("click",function(t){t.preventDefault(),(t=e.data("Zebra_Tooltip")).sticky=!1,e.data("Zebra_Tooltip",t),u(e)}).appendTo(v.message),v.close=!0,v=t.extend(e.data("Zebra_Tooltip"),v),e.data("Zebra_Tooltip",v)),s=b.width(),n=b.height(),m=e.offset(),t.extend(v,{element_left:m.left,element_top:m.top,element_width:e.outerWidth(),element_height:e.outerHeight()}),o=b.scrollTop(),a=b.scrollLeft(),f="left"===v.position?v.element_left-v.tooltip_width+v.arrow_width:"right"===v.position?v.element_left+v.element_width-v.arrow_width:v.element_left+(v.element_width-v.tooltip_width)/2,y=v.element_top-v.tooltip_height,g="left"===v.position?v.tooltip_width-v.arrow_width-v.arrow_width/2:"right"===v.position?v.arrow_width/2:(v.tooltip_width-v.arrow_width)/2,f+v.tooltip_width>s+a&&(g-=s+a-(f+v.tooltip_width)-6,(f=s+a-v.tooltip_width-6)+(g=g+v.arrow_width>v.tooltip_width-6?v.tooltip_width-6-v.arrow_width:g)+v.arrow_width/2<v.element_left)&&(g=-1e4),f<a&&(g-=a-f,(f=a+2)+(g=g<0?v.arrow_width/2:g)+v.arrow_width/2>v.element_left+v.element_width)&&(g=-1e4),v.message.css("margin-top",""),v.arrow_container.removeClass("Zebra_Tooltip_Arrow_Top").addClass("Zebra_Tooltip_Arrow_Bottom"),y<o||"below"===v.vertical_alignment&&v.element_top+v.element_height+v.vertical_offset+v.tooltip_height+v.animation_offset<n+o?(y=v.element_top+v.element_height-v.vertical_offset,v.animation_offset=Math.abs(v.animation_offset),v.message.css("margin-top",v.arrow_height/2),v.arrow_container.removeClass("Zebra_Tooltip_Arrow_Bottom").addClass("Zebra_Tooltip_Arrow_Top")):(v.animation_offset=-Math.abs(v.animation_offset),y+=v.vertical_offset),v.arrow_container.css("left",g),v.tooltip.css({left:f,top:y}),t.extend(v,{tooltip_left:f,tooltip_top:y,arrow_left:g}),v=t.extend(e.data("Zebra_Tooltip"),v),e.data("Zebra_Tooltip",v),v},h=function(t){var e=t.data("Zebra_Tooltip");clearTimeout(e.show_timeout),e.muted||(clearTimeout(e.hide_timeout),e.show_timeout=setTimeout(function(){(e=l(t)).onBeforeShow&&"function"==typeof e.onBeforeShow&&!1===e.onBeforeShow(t,e.tooltip)||("block"!==e.tooltip.css("display")&&e.tooltip.css({top:e.tooltip_top+e.animation_offset}),e.tooltip.css("display","block"),e.tooltip.stop(),e.tooltip.animate({top:e.tooltip_top,opacity:e.opacity},e.animation_speed,function(){e.onShow&&"function"==typeof e.onShow&&e.onShow(t,e.tooltip)}))},e.show_delay))},u=function(e){var i=e.data("Zebra_Tooltip");clearTimeout(i.hide_timeout),i.sticky||(clearTimeout(i.show_timeout),i.hide_timeout=setTimeout(function(){!i.tooltip||i.onBeforeHide&&"function"==typeof i.onBeforeHide&&!1===i.onBeforeHide(e,i.tooltip)||(i.close=!1,i.destroy&&(i.muted=!0),e.data("Zebra_Tooltip",i),t("a.Zebra_Tooltip_Close",i.tooltip).remove(),i.tooltip.stop(),i.tooltip.animate({opacity:0,top:i.tooltip_top+i.animation_offset},i.animation_speed,function(){t(this).css("display","none"),i.onHide&&"function"==typeof i.onHide&&i.onHide(e,i.tooltip)}))},i.hide_delay))};this.hide=function(e,i){e.each(function(){var e=t(this),s=e.data("Zebra_Tooltip");s&&(s.sticky=!1,i&&(s.destroy=!0),e.data("Zebra_Tooltip",s),u(e))})},this.show=function(e,i){e.each(function(){var e=t(this),s=e.data("Zebra_Tooltip");s&&(s.sticky=!0,s.muted=!1,i&&(s.destroy=!0),e.data("Zebra_Tooltip",s),h(e))})},e.each(function(){var e,s=t(this),n=s.attr("title"),a=s.data(),o={};for(e in a)0===e.indexOf("ztt_")&&void 0!==r[e=e.replace(/^ztt\_/,"")]&&(o[e]=a["ztt_"+e]);o=t.extend(r,i,o),n&&(o.content=s.attr("title")),void 0!==o.content&&""!==o.content.trim()&&(s.on("mouseenter focus",function(){n&&t(this).attr("title",""),h(s)}),s.on("mouseleave blur",function(){u(s),n&&t(this).attr("title",n)}),s.data("Zebra_Tooltip",t.extend({tooltip:null,show_timeout:null,hide_timeout:null,sticky:!1,destroy:!1,muted:!1},o)),o.prerender)&&l(s)})}}(jQuery),(()=>{function t(t){t&&(t.element.classList.add(t.stateClassName),t.element.firstChild.classList.remove(t.stateChildClassNames[0]),t.element.firstChild.classList.add(t.stateChildClassNames[1]),t.element.setAttribute("aria-pressed",!1))}function e(t){t&&(t.element.classList.remove(t.stateClassName),t.element.firstChild.classList.add(t.stateChildClassNames[0]),t.element.firstChild.classList.remove(t.stateChildClassNames[1]),t.element.setAttribute("aria-pressed",!0))}function i(i,s){let n=document.createElement("button");n.className=s.className,n.innerHTML=s.innerHtml,n.setAttribute("role","switch"),n.firstChild.classList.add(s.stateChildClassNames[0]),n.setAttribute("aria-pressed",!s.initialState),s.element=n,i.params[s.condition_parameter]===s.initialState&&t(s),n.addEventListener("click",function(n){this.classList.contains(s.stateClassName)?(e(s),i[s.actions[0]]()):(t(s),i[s.actions[1]]())}),i.buttons[s.name]={element:n,button_properties:s},i.controls_element.appendChild(n)}function s(t){if(/^\s*(true|false)\s*$/i.test(t))return"true"===t}function n(t){return/^\s*\d+\s*$/.test(t)?parseInt(t):/^\s*[\d.]+\s*$/.test(t)?parseFloat(t):void 0}function a(t){if(/^\s*\[.*\]\s*$/.test(t))try{return JSON.parse(t)}catch{}}function o(t){if(/^\s*\{.*\}\s*$/.test(t))try{return JSON.parse(t)}catch{}}function r(t){if(/^\s*\/.*\/g?i?\s*$/.test(t))try{return RegExp(t)}catch{}}function l(t){if(/^\s*null\s*$/.test(t))return null;let e=s(t);return void 0!==e?e:n(t)||a(t)||o(t)||r(t)||t}function h(t){return Array.isArray(t)}function u(t){return"string"==typeof t}function d(t,e,i=!1){if(t=Number(t),e=Number(e),isNaN(t)||isNaN(e))throw TypeError("Both min and max must be numbers");if(t>e&&([t,e]=[e,t]),t===e)return t;t=Math.round(t),e=Math.round(e);let s=i?m():Math.random();return Math.floor(s*(e-t+1))+t}function p(t,e){return e?parseFloat(t.toFixed(e)):parseInt(t)}function c(t,e){return!t||!e||Number.isNaN(t)||Number.isNaN(e)?0:t/e*100}function m(){return crypto?crypto.getRandomValues?crypto.getRandomValues(new Uint32Array(1))[0]/4294967295:void 0:Math.random()}var f=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i,y=/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)(?:[a-zA-Z0-9_\-]+)?/i,g=/\/([^\/]+\.(?:mp4|ogg|ogv|ogm|webm|avi))\s*$/i;function v(t){if(!t||!t.length||/16[\:x\-\/]{1}9/i.test(t))return 1.7777777778;let e=t.split(/\s?[\:x\-\/]{1}\s?/i);if(e.length<2)return 1.7777777778;let i=parseInt(e[0]),s=parseInt(e[1]);return 0===i||0===s||isNaN(i)||isNaN(s)?1.7777777778:i/s}function b(t,e=document){if(t instanceof Array||t instanceof NodeList)return t;if(t instanceof Element)return[t];if(e instanceof Element||e instanceof Document)return e.querySelectorAll(t);if(u(e)&&(e=b(e)),!e instanceof Array&&!e instanceof NodeList)return[];let i=[];for(let s of e)i.push(...s.querySelectorAll(t));return i}function $(t,e=1,i=0){for(let s of(t instanceof Element&&(t=[t]),"string"==typeof t&&(t=b(t)),t)){let n=s.parentNode.offsetHeight+i,a=s.parentNode.offsetWidth+i;e>a/n?(s.style.width=n*e+"px",s.style.height=n+"px"):(s.style.width=a+"px",s.style.height=a/e+"px")}}function w(t){return/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(t)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(t)}function T(){return"maxTouchPoints"in navigator?navigator.maxTouchPoints>0:"matchMedia"in window?!!matchMedia("(pointer:coarse)").matches:"orientation"in window||w(navigator.userAgent)}var E=class{constructor(t,e,s,n,a,o){if(!s)return;this.is_mobile=T(),this.type=a,this.id=s,this.factoryInstance=o,this.element=t,this.playerElement=null,this.uid=n,this.element.setAttribute("data-vbg-uid",n),this.buttons={},this.isIntersecting=!1,this.paused=!1,this.muted=!1,this.currentState="notstarted",this.initialPlay=!1,this.initialVolume=!1,this.volume=1,this.params={};let r={pause:!1,"play-button":!1,"mute-button":!1,autoplay:!0,muted:!0,loop:!0,mobile:!0,"load-background":!1,resolution:"16:9","inline-styles":!0,"fit-box":!1,offset:100,"start-at":0,"end-at":0,poster:null,"always-play":!1,volume:1,"no-cookie":!0,"force-on-low-battery":!1,lazyloading:!1,title:"Video background"};this.params=this.parseProperties(e,r,this.element,["data-ytbg-","data-vbg-"]),this.params.pause&&(this.params["play-button"]=this.params.pause),this.params.resolution_mod=v(this.params.resolution),this.muted=this.params.muted,this.volume=this.params.volume,this.currentTime=this.params["start-at"]||0,this.duration=this.params["end-at"]||0,this.percentComplete=0,this.params["start-at"]&&(this.percentComplete=this.timeToPercentage(this.params["start-at"])),this.buildWrapperHTML(),!(this.is_mobile&&!this.params.mobile)&&(this.params["play-button"]&&i(this,{name:"playing",className:"play-toggle",innerHtml:'<i class="fa"></i>',initialState:!this.paused,stateClassName:"paused",condition_parameter:"paused",stateChildClassNames:["fa-pause-circle","fa-play-circle"],actions:["play","pause"]}),this.params["mute-button"]&&i(this,{name:"muted",className:"mute-toggle",innerHtml:'<i class="fa"></i>',initialState:this.muted,stateClassName:"muted",condition_parameter:"muted",stateChildClassNames:["fa-volume-up","fa-volume-mute"],actions:["unmute","mute"]}))}timeToPercentage(t){if(t<=this.params["start-at"])return 0;if(t>=this.duration)return 100;if(t<=0)return 0;t-=this.params["start-at"];let e=this.duration-this.params["start-at"];return c(t,e)}percentageToTime(t){if(!this.duration)return this.params["start-at"]||0;if(t>100)return this.duration;if(t<=0)return this.params["start-at"]||0;let e=this.duration-this.params["start-at"],i=t*e/100;return(i=p(i,3))>e&&(i=e),this.params["start-at"]&&(i+=this.params["start-at"]),i}resize(t){this.params["fit-box"]||$(t||this.playerElement,this.params.resolution_mod,this.params.offset),this.dispatchEvent("video-background-resize")}stylePlayerElement(t){t&&(this.params["inline-styles"]&&(t.style.top="50%",t.style.left="50%",t.style.transform="translateX(-50%) translateY(-50%)",t.style.position="absolute",t.style.opacity=0),this.params["fit-box"]&&(t.style.width="100%",t.style.height="100%"))}buildWrapperHTML(){let t=this.element.parentNode;this.element.classList.add("youtube-background","video-background");let e={height:"100%",width:"100%","z-index":"0",position:"absolute",overflow:"hidden",top:0,left:0,bottom:0,right:0};if(this.params["mute-button"]||(e["pointer-events"]="none"),(this.params["load-background"]||this.params.poster)&&(this.loadBackground(this.id),this.params.poster&&(e["background-image"]=`url(${this.params.poster})`),e["background-size"]="cover",e["background-repeat"]="no-repeat",e["background-position"]="center"),this.params["inline-styles"]){for(let i in e)this.element.style[i]=e[i];["absolute","fixed","relative","sticky"].indexOf(t.style.position)||(t.style.position="relative")}if(this.params["play-button"]||this.params["mute-button"]){let s=document.createElement("div");s.className="video-background-controls",s.style.position="absolute",s.style.top="10px",s.style.right="10px",s.style["z-index"]=2,this.controls_element=s,t.appendChild(s)}return this.element}loadBackground(t){this.params["load-background"]&&t&&("youtube"===this.type&&(this.element.style["background-image"]=`url(https://img.youtube.com/vi/${t}/hqdefault.jpg)`),"vimeo"===this.type&&(this.element.style["background-image"]=`url(https://vumbnail.com/${t}.jpg)`))}destroy(){this.playerElement.remove(),this.element.classList.remove("youtube-background","video-background"),this.element.removeAttribute("data-vbg-uid"),this.element.style="",(this.params["play-button"]||this.params["mute-button"])&&this.controls_element.remove(),this.timeUpdateTimer&&clearInterval(this.timeUpdateTimer),this.dispatchEvent("video-background-destroyed")}setDuration(t){if(this.duration!==t){if(this.params["end-at"]){if(t>this.params["end-at"]){this.duration=this.params["end-at"];return}if(t<this.params["end-at"]){this.duration=t;return}}else{this.duration=t;return}t<=0&&(this.duration=this.params["end-at"])}}setStartAt(t){this.params["start-at"]=t}setEndAt(t){this.params["end-at"]=t,this.duration>t&&(this.duration=t),this.currentTime>t&&this.onVideoEnded()}dispatchEvent(t){this.element.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:this}))}shouldPlay(){return("ended"!==this.currentState||!!this.params.loop)&&!!(this.params["always-play"]&&"playing"!==this.currentState||this.isIntersecting&&this.params.autoplay&&"playing"!==this.currentState)}mobileLowBatteryAutoplayHack(){if(!this.params["force-on-low-battery"]||!this.is_mobile&&this.params.mobile)return;let t=function(){this.initialPlay||!this.params.autoplay||!this.params.muted||(this.softPlay(),this.isIntersecting||this.params["always-play"]||this.softPause())};document.addEventListener("touchstart",t.bind(this),{once:!0})}parseProperties(t,e,i,s){let n={};if(t)for(let a in e)n[a]=t.hasOwnProperty(a)?t[a]:e[a];else n=e;if(!i)return n;for(let o in n){let r;if(h(s))for(let u=0;u<s.length;u++){let d=i.getAttribute(s[u]+o);if(d){r=d;break}}else r=i.getAttribute(s+o);null!=r&&(n[o]=l(r))}return n}},_=class extends E{constructor(t,e,i,s,n){super(t,e,i,s,"youtube",n),i&&(this.is_mobile&&!this.params.mobile||(this.injectScript(),this.player=null,this.injectPlayer(),this.STATES={"-1":"notstarted",0:"ended",1:"playing",2:"paused",3:"buffering",5:"cued"},this.timeUpdateTimer=null,this.timeUpdateInterval=250,this.initYTPlayer()))}startTimeUpdateTimer(){this.timeUpdateTimer||(this.timeUpdateTimer=setInterval(this.onVideoTimeUpdate.bind(this),this.timeUpdateInterval))}stopTimeUpdateTimer(){clearInterval(this.timeUpdateTimer),this.timeUpdateTimer=null}convertState(t){return this.STATES[t]}initYTPlayer(){window.hasOwnProperty("YT")&&null===this.player&&(this.player=new YT.Player(this.uid,{events:{onReady:this.onVideoPlayerReady.bind(this),onStateChange:this.onVideoStateChange.bind(this)}}),1===this.volume||this.muted||this.setVolume(this.volume))}onVideoError(t){console.error(t)}injectScript(){let t="https://www.youtube.com/player_api";if(window.hasOwnProperty("YT")||document.querySelector(`script[src="${t}"]`))return;let e=document.createElement("script");e.async=!0,e.src=t;let i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i)}generatePlayerElement(){let t=document.createElement("iframe");return this.params.title&&t.setAttribute("title",this.params.title),t.setAttribute("frameborder",0),t.setAttribute("allow","autoplay; mute"),this.params.lazyloading&&t.setAttribute("loading","lazy"),t}generateSrcURL(t){let e="https://www.youtube.com/embed/";this.params["no-cookie"]&&(e="https://www.youtube-nocookie.com/embed/");let i=`${e}${t}?&enablejsapi=1&disablekb=1&controls=0&rel=0&iv_load_policy=3&cc_load_policy=0&playsinline=1&showinfo=0&modestbranding=1&fs=0`;return this.params.muted&&(i+="&mute=1"),this.params.autoplay&&(this.params["always-play"]||this.isIntersecting)&&(i+="&autoplay=1"),this.params.loop&&(i+="&loop=1"),i}injectPlayer(){this.playerElement=this.generatePlayerElement(),this.src=this.generateSrcURL(this.id),this.playerElement.src=this.src,this.playerElement.id=this.uid,this.stylePlayerElement(this.playerElement),this.element.appendChild(this.playerElement),this.resize(this.playerElement)}setSource(t){let e=t.match(f);e&&e.length&&(this.id=e[1],this.src=this.generateSrcURL(this.id),this.playerElement.src=this.src,this.element.hasAttribute("data-vbg")&&this.element.setAttribute("data-vbg",this.src),this.element.hasAttribute("data-ytbg")&&this.element.setAttribute("data-ytbg",this.src),this.loadBackground(this.id))}onVideoTimeUpdate(){let t=this.player.getCurrentTime();if(t!==this.currentTime){if(this.currentTime=t,this.percentComplete=this.timeToPercentage(this.currentTime),this.params["end-at"]&&this.duration&&this.currentTime>=this.duration){this.currentState="ended",this.dispatchEvent("video-background-state-change"),this.onVideoEnded(),this.stopTimeUpdateTimer();return}this.dispatchEvent("video-background-time-update")}}onVideoPlayerReady(){this.mobileLowBatteryAutoplayHack(),this.params.autoplay&&(this.params["always-play"]||this.isIntersecting)&&(this.params["start-at"]&&this.seekTo(this.params["start-at"]),this.player.playVideo()),this.setDuration(this.player.getDuration()),this.dispatchEvent("video-background-ready")}onVideoStateChange(t){this.currentState=this.convertState(t.data),"ended"===this.currentState&&this.onVideoEnded(),"notstarted"===this.currentState&&this.params.autoplay&&(this.seekTo(this.params["start-at"]),this.player.playVideo()),"playing"===this.currentState&&this.onVideoPlay(),"paused"===this.currentState&&this.onVideoPause(),this.dispatchEvent("video-background-state-change")}onVideoPlay(){this.initialPlay||(this.initialPlay=!0,this.playerElement.style.opacity=1);let t=this.player.getCurrentTime();this.params["start-at"]&&t<this.params["start-at"]&&this.seekTo(this.params["start-at"]),this.duration&&t>=this.duration&&this.seekTo(this.params["start-at"]),this.duration||this.setDuration(this.player.getDuration()),this.dispatchEvent("video-background-play"),this.startTimeUpdateTimer()}onVideoPause(){this.stopTimeUpdateTimer(),this.dispatchEvent("video-background-pause")}onVideoEnded(){if(this.dispatchEvent("video-background-ended"),!this.params.loop)return this.pause();this.seekTo(this.params["start-at"]),this.player.playVideo()}seek(t){this.seekTo(this.percentageToTime(t),!0)}seekTo(t,e=!0){this.player&&(this.player.seekTo(t,e),this.dispatchEvent("video-background-seeked"))}softPause(){this.player&&"paused"!==this.currentState&&(this.stopTimeUpdateTimer(),this.player.pauseVideo())}softPlay(){this.player&&"playing"!==this.currentState&&this.player.playVideo()}play(){this.player&&(this.paused=!1,this.player.playVideo())}pause(){this.player&&(this.paused=!0,this.stopTimeUpdateTimer(),this.player.pauseVideo())}unmute(){this.player&&(this.muted=!1,this.initialVolume||(this.initialVolume=!0,this.setVolume(this.params.volume)),this.player.unMute(),this.dispatchEvent("video-background-unmute"))}mute(){this.player&&(this.muted=!0,this.player.mute(),this.dispatchEvent("video-background-mute"))}getVolume(){if(this.player)return this.player.getVolume()/100}setVolume(t){this.player&&(this.volume=t,this.player.setVolume(100*t),this.dispatchEvent("video-background-volume-change"))}},k=class extends E{constructor(t,e,i,s,n){super(t,e,i.id,s,"vimeo",n),i&&(this.unlisted=i.unlisted,this.is_mobile&&!this.params.mobile||(this.injectScript(),this.player=null,this.injectPlayer(),this.initVimeoPlayer()))}injectScript(){let t="https://player.vimeo.com/api/player.js";if(window.hasOwnProperty("Vimeo")||document.querySelector(`script[src="${t}"]`))return;let e=document.createElement("script");e.async=!0,window.hasOwnProperty("onVimeoIframeAPIReady")&&"function"==typeof window.onVimeoIframeAPIReady&&e.addEventListener("load",()=>{window.onVimeoIframeAPIReady()}),e.src=t;let i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i)}initVimeoPlayer(){window.hasOwnProperty("Vimeo")&&null===this.player&&(this.player=new Vimeo.Player(this.playerElement),this.player.on("loaded",this.onVideoPlayerReady.bind(this)),this.player.on("ended",this.onVideoEnded.bind(this)),this.player.on("play",this.onVideoPlay.bind(this)),this.player.on("pause",this.onVideoPause.bind(this)),this.player.on("bufferstart",this.onVideoBuffering.bind(this)),this.player.on("timeupdate",this.onVideoTimeUpdate.bind(this)),1===this.volume||this.muted||this.setVolume(this.volume))}onVideoError(t){console.error(t)}generatePlayerElement(){let t=document.createElement("iframe");return this.params.title&&t.setAttribute("title",this.params.title),t.setAttribute("frameborder",0),t.setAttribute("allow","autoplay; mute"),this.params.lazyloading&&t.setAttribute("loading","lazy"),t}generateSrcURL(t,e){let i=`https://player.vimeo.com/video/${t}?${e=e?`h=${e}&`:""}background=1&controls=0`;return this.params.muted&&(i+="&muted=1"),this.params.autoplay&&(this.params["always-play"]||this.isIntersecting)&&(i+="&autoplay=1"),this.params.loop&&(i+="&loop=1&autopause=0"),this.params["no-cookie"]&&(i+="&dnt=1"),this.params["start-at"]&&(i+="#t="+this.params["start-at"]+"s"),i}injectPlayer(){this.playerElement=this.generatePlayerElement(),this.src=this.generateSrcURL(this.id,this.unlisted),this.playerElement.src=this.src,this.playerElement.id=this.uid,this.stylePlayerElement(this.playerElement),this.element.appendChild(this.playerElement),this.resize(this.playerElement)}updateState(t){this.currentState=t,this.dispatchEvent("video-background-state-change")}setSource(t){let e=t.match(y);e&&e.length&&(this.id=e[1],this.src=this.generateSrcURL(this.id),this.playerElement.src=this.src,this.element.hasAttribute("data-vbg")&&this.element.setAttribute("data-vbg",this.src),this.element.hasAttribute("data-ytbg")&&this.element.setAttribute("data-ytbg",this.src),this.loadBackground(this.id))}onVideoPlayerReady(){this.mobileLowBatteryAutoplayHack(),this.params["start-at"]&&this.seekTo(this.params["start-at"]),this.params.autoplay&&(this.params["always-play"]||this.isIntersecting)&&this.player.play(),this.player.getDuration().then(t=>{this.setDuration(t)}),this.dispatchEvent("video-background-ready")}onVideoEnded(){if(this.updateState("ended"),this.dispatchEvent("video-background-ended"),!this.params.loop)return this.pause();this.seekTo(this.params["start-at"]),this.updateState("playing"),this.dispatchEvent("video-background-play")}onVideoTimeUpdate(t){this.currentTime=t.seconds,this.percentComplete=this.timeToPercentage(t.seconds),this.dispatchEvent("video-background-time-update"),this.setDuration(t.duration),this.params["end-at"]&&this.duration&&t.seconds>=this.duration&&this.onVideoEnded()}onVideoBuffering(){this.updateState("buffering")}onVideoPlay(t){if(this.setDuration(t.duration),!this.initialPlay&&(this.initialPlay=!0,this.playerElement.style.opacity=1,this.player.setLoop(this.params.loop),!(this.params.autoplay&&(this.params["always-play"]||this.isIntersecting))))return this.player.pause();let e=t.seconds;this.params["start-at"]&&e<this.params["start-at"]&&this.seekTo(this.params["start-at"]),this.duration&&e>=this.duration&&this.seekTo(this.params["start-at"]),this.updateState("playing"),this.dispatchEvent("video-background-play")}onVideoPause(){this.updateState("paused"),this.dispatchEvent("video-background-pause")}seek(t){this.seekTo(this.percentageToTime(t))}seekTo(t){this.player&&(this.player.setCurrentTime(t),this.dispatchEvent("video-background-seeked"))}softPause(){this.player&&"paused"!==this.currentState&&this.player.pause()}softPlay(){this.player&&"playing"!==this.currentState&&this.player.play()}play(){this.player&&(this.paused=!1,this.player.play())}pause(){this.player&&(this.paused=!0,this.player.pause())}unmute(){this.player&&(this.muted=!1,this.initialVolume||(this.initialVolume=!0,this.setVolume(this.params.volume)),this.player.setMuted(!1),this.dispatchEvent("video-background-unmute"))}mute(){this.player&&(this.muted=!0,this.player.setMuted(!0),this.dispatchEvent("video-background-mute"))}getVolume(){if(this.player)return this.player.getVolume()}setVolume(t){this.player&&(this.volume=t,this.player.setVolume(t),this.dispatchEvent("video-background-volume-change"))}},x=class extends E{constructor(t,e,i,s,n){super(t,e,i.link,s,"video",n),i&&i.link&&(!this.is_mobile||this.params.mobile)&&(this.src=i.link,this.ext=/(?:\.([^.]+))?$/.exec(i.id)[1],this.uid=s,this.element.setAttribute("data-vbg-uid",s),this.player=null,this.buttons={},this.MIME_MAP={ogv:"video/ogg",ogm:"video/ogg",ogg:"video/ogg",avi:"video/avi",mp4:"video/mp4",webm:"video/webm",m4v:"video/x-m4v",mov:"video/quicktime",qt:"video/quicktime"},this.mime=this.MIME_MAP[this.ext.toLowerCase()],this.injectPlayer(),this.mobileLowBatteryAutoplayHack(),this.dispatchEvent("video-background-ready"))}generatePlayerElement(){let t=document.createElement("video");return this.params.title&&t.setAttribute("title",this.params.title),t.setAttribute("playsinline",""),this.params.loop&&t.setAttribute("loop",""),this.params.autoplay&&(this.params["always-play"]||this.isIntersecting)&&(t.setAttribute("autoplay",""),t.autoplay=!0),this.muted&&(t.setAttribute("muted",""),t.muted=!0),this.params.lazyloading&&t.setAttribute("loading","lazy"),t}injectPlayer(){this.player=this.generatePlayerElement(),this.playerElement=this.player,1===this.volume||this.muted||this.setVolume(this.volume),this.playerElement.setAttribute("id",this.uid),this.stylePlayerElement(this.playerElement),this.player.addEventListener("loadedmetadata",this.onVideoLoadedMetadata.bind(this)),this.player.addEventListener("durationchange",this.onVideoLoadedMetadata.bind(this)),this.player.addEventListener("canplay",this.onVideoCanPlay.bind(this)),this.player.addEventListener("timeupdate",this.onVideoTimeUpdate.bind(this)),this.player.addEventListener("play",this.onVideoPlay.bind(this)),this.player.addEventListener("pause",this.onVideoPause.bind(this)),this.player.addEventListener("waiting",this.onVideoBuffering.bind(this)),this.player.addEventListener("ended",this.onVideoEnded.bind(this)),this.element.appendChild(this.playerElement);let t=document.createElement("source");t.setAttribute("src",this.src),t.setAttribute("type",this.mime),this.playerElement.appendChild(t),this.resize(this.playerElement)}updateState(t){this.currentState=t,this.dispatchEvent("video-background-state-change")}setSource(t){let e=t.match(g);if(!e||!e.length)return;this.id=e[1],this.ext=/(?:\.([^.]+))?$/.exec(this.id)[1],this.mime=this.MIME_MAP[this.ext.toLowerCase()],this.playerElement.innerHTML="";let i=document.createElement("source");i.setAttribute("src",t),i.setAttribute("type",this.mime),this.playerElement.appendChild(i),this.src=t,this.element.hasAttribute("data-vbg")&&this.element.setAttribute("data-vbg",this.src),this.element.hasAttribute("data-ytbg")&&this.element.setAttribute("data-ytbg",this.src)}onVideoLoadedMetadata(){this.setDuration(this.player.duration)}onVideoCanPlay(){this.setDuration(this.player.duration)}onVideoTimeUpdate(){this.currentTime=this.player.currentTime,this.percentComplete=this.timeToPercentage(this.player.currentTime),this.dispatchEvent("video-background-time-update"),this.params["end-at"]&&this.currentTime>=this.duration&&this.onVideoEnded()}onVideoPlay(){this.initialPlay||(this.initialPlay=!0,this.playerElement.style.opacity=1);let t=this.player.currentTime;this.params["start-at"]&&t<=this.params["start-at"]&&this.seekTo(this.params["start-at"]),this.duration&&t>=this.duration&&this.seekTo(this.params["start-at"]),this.updateState("playing"),this.dispatchEvent("video-background-play")}onVideoPause(){this.updateState("paused"),this.dispatchEvent("video-background-pause")}onVideoEnded(){if(this.updateState("ended"),this.dispatchEvent("video-background-ended"),!this.params.loop)return this.pause();this.seekTo(this.params["start-at"]),this.onVideoPlay()}onVideoBuffering(){this.updateState("buffering")}seek(t){this.seekTo(this.percentageToTime(t))}seekTo(t){if(this.player){if(this.player.hasOwnProperty("fastSeek")){this.player.fastSeek(t);return}this.player.currentTime=t,this.dispatchEvent("video-background-seeked")}}softPause(){this.player&&"paused"!==this.currentState&&this.player.pause()}softPlay(){this.player&&"playing"!==this.currentState&&this.player.play()}play(){this.player&&(this.paused=!1,this.player.play())}pause(){this.player&&(this.paused=!0,this.player.pause())}unmute(){this.player&&(this.muted=!1,this.player.muted=!1,this.initialVolume||(this.initialVolume=!0,this.setVolume(this.params.volume)),this.dispatchEvent("video-background-unmute"))}mute(){this.player&&(this.muted=!0,this.player.muted=!0,this.dispatchEvent("video-background-mute"))}getVolume(){if(this.player)return this.player.volume}setVolume(t){this.player&&(this.volume=t,this.player.volume=t,this.dispatchEvent("video-background-volume-change"))}},V=class{constructor(t,e){this.elements=t,this.elements instanceof Element&&(this.elements=[this.elements]),"string"==typeof this.elements&&(this.elements=document.querySelectorAll(t)),this.index={};let i=this;if(this.intersectionObserver=null,"IntersectionObserver"in window&&(this.intersectionObserver=new IntersectionObserver(function(t){t.forEach(function(t){let e=t.target.getAttribute("data-vbg-uid");if(e&&i.index.hasOwnProperty(e)&&t.isIntersecting){i.index[e].isIntersecting=!0;try{i.index[e].player&&!i.index[e].paused&&i.index[e].softPlay()}catch{}}else{i.index[e].isIntersecting=!1;try{i.index[e].player&&i.index[e].softPause()}catch{}}})})),this.resizeObserver=null,"ResizeObserver"in window?this.resizeObserver=new ResizeObserver(function(t){t.forEach(function(t){let e=t.target.getAttribute("data-vbg-uid");e&&i.index.hasOwnProperty(e)&&window.requestAnimationFrame(()=>i.index[e].resize())})}):window.addEventListener("resize",function(){for(let t in i.index)window.requestAnimationFrame(()=>i.index[t].resize(i.index[t].playerElement))}),this.initPlayers(),!(!this.elements||!this.elements.length)){for(let s=0;s<this.elements.length;s++){let n=this.elements[s];this.add(n,e)}document.addEventListener("visibilitychange",this.onVisibilityChange.bind(this))}}onVisibilityChange(){if(!document.hidden)for(let t in this.index){let e=this.index[t];e.shouldPlay()&&e.softPlay()}}add(t,e){if(!t||t.hasAttribute("data-vbg-uid"))return;this.intersectionObserver||(e||(e={}),e["always-play"]=!0);let i=t.getAttribute("data-youtube")||t.getAttribute("data-vbg"),s=this.getVidID(i);if(!s)return;let n=this.generateUID(s.id);if(n){switch(s.type){case"YOUTUBE":let a=new _(t,e,s.id,n,this);this.index[n]=a;break;case"VIMEO":let o=new k(t,e,s,n,this);this.index[n]=o;break;case"VIDEO":let r=new x(t,e,s,n,this);this.index[n]=r}this.resizeObserver&&this.resizeObserver.observe(t),!this.index[n].params["always-play"]&&this.intersectionObserver&&this.intersectionObserver.observe(t)}}destroy(t){let e=t.uid||t.getAttribute("data-vbg-uid");e&&this.index.hasOwnProperty(e)&&(!this.index[e].params["always-play"]&&this.intersectionObserver&&this.intersectionObserver.unobserve(t),this.resizeObserver&&this.resizeObserver.unobserve(t),this.index[e].destroy(),delete this.index[e])}destroyAll(){for(let t in this.index)this.destroy(this.index[t].playerElement)}getVidID(t){if(!(void 0===t&&null===t))for(let e in this.re={},this.re.YOUTUBE=f,this.re.VIMEO=y,this.re.VIDEO=g,this.re){let i=t.match(this.re[e]);if(i&&i.length){this.re[e].lastIndex=0;let s={id:i[1],type:e,regex_pts:i,link:t};if("VIMEO"===e){let n=/(\?|&)h=([^=&#?]+)/,a=/\/[^\/\:\.]+(\:|\/)([^:?\/]+)\s?$/,o=t.match(a)||t.match(n);o&&(s.unlisted=o[2])}return s}}}generateUID(t){let e=(t="vbg-"+(t=(t=(t=t.replace(/[^a-zA-Z0-9\-_]/g,"-")).replace(/-{2,}/g,"-")).replace(/^-+/,"").replace(/-+$/,"")))+"-"+d(0,9999);for(;this.index.hasOwnProperty(e);)e=t+"-"+d(0,9999);return e}get(t){let e="string"==typeof t?t:t.getAttribute("data-vbg-uid");if(e&&this.index.hasOwnProperty(e))return this.index[e]}pauseAll(){for(let t in this.index)this.index[t].pause()}playAll(){for(let t in this.index)this.index[t].play()}muteAll(){for(let t in this.index)this.index[t].mute()}unmuteAll(){for(let t in this.index)this.index[t].unmute()}setVolumeAll(t){for(let e in this.index)this.index[e].setVolume(t)}initPlayers(t){let e=this;window.onYouTubeIframeAPIReady=function(){for(let i in e.index)e.index[i]instanceof _&&e.index[i].initYTPlayer();t&&setTimeout(t,100)},window.hasOwnProperty("YT")&&window.YT.loaded&&window.onYouTubeIframeAPIReady(),window.onVimeoIframeAPIReady=function(){for(let i in e.index)e.index[i]instanceof k&&e.index[i].initVimeoPlayer();t&&setTimeout(t,100)},window.hasOwnProperty("Vimeo")&&window.Vimeo.hasOwnProperty("Player")&&window.onVimeoIframeAPIReady()}};"function"==typeof jQuery&&function(t){t.fn.youtube_background=function(e){let i=t(this);return window.hasOwnProperty("VIDEO_BACKGROUNDS")?(window.VIDEO_BACKGROUNDS.add(i,e),i):(window.VIDEO_BACKGROUNDS=new V(this,e),i)}}(jQuery),window.VideoBackgrounds=V})(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Headroom=e()}(this,function(){"use strict";function t(){return"undefined"!=typeof window}function e(t){return t===Object(t)?t:{down:t,up:t}}function i(t,s){s=s||{},Object.assign(this,i.options,s),this.classes=Object.assign({},i.options.classes,s.classes),this.elem=t,this.tolerance=e(this.tolerance),this.offset=e(this.offset),this.initialised=!1,this.frozen=!1}return i.prototype={constructor:i,init:function(){return i.cutsTheMustard&&!this.initialised&&(this.addClass("initial"),this.initialised=!0,setTimeout(function(t){t.scrollTracker=function t(e,i,s){var n,a,o,r,l,h,u,d,p,c=function(){var t=!1;try{var e={get passive(){t=!0}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(i){t=!1}return t}(),m=!1,f=(a=n=e)&&a.document&&9===(o=a.document).nodeType?(h=(l=(r=n).document).body,u=l.documentElement,{scrollHeight:function(){return Math.max(h.scrollHeight,u.scrollHeight,h.offsetHeight,u.offsetHeight,h.clientHeight,u.clientHeight)},height:function(){return r.innerHeight||u.clientHeight||h.clientHeight},scrollY:function(){return void 0!==r.pageYOffset?r.pageYOffset:(u||h.parentNode||h).scrollTop}}):(d=n,{scrollHeight:function(){return Math.max(d.scrollHeight,d.offsetHeight,d.clientHeight)},height:function(){return Math.max(d.offsetHeight,d.clientHeight)},scrollY:function(){return d.scrollTop}}),y=f.scrollY(),g={};function v(){var t=Math.round(f.scrollY()),e=f.height(),n=f.scrollHeight();g.scrollY=t,g.lastScrollY=y,g.direction=y<t?"down":"up",g.distance=Math.abs(t-y),g.isOutOfBounds=t<0||n<t+e,g.top=t<=i.offset[g.direction],g.bottom=n<=t+e,g.toleranceExceeded=g.distance>i.tolerance[g.direction],s(g),y=t,m=!1}function b(){m||(m=!0,p=requestAnimationFrame(v))}var $=!!c&&{passive:!0,capture:!1};return e.addEventListener("scroll",b,$),v(),{destroy:function(){cancelAnimationFrame(p),e.removeEventListener("scroll",b,$)}}}(t.scroller,{offset:t.offset,tolerance:t.tolerance},t.update.bind(t))},100,this)),this},destroy:function(){this.initialised=!1,Object.keys(this.classes).forEach(this.removeClass,this),this.scrollTracker.destroy()},unpin:function(){!this.hasClass("pinned")&&this.hasClass("unpinned")||(this.addClass("unpinned"),this.removeClass("pinned"),this.onUnpin&&this.onUnpin.call(this))},pin:function(){this.hasClass("unpinned")&&(this.addClass("pinned"),this.removeClass("unpinned"),this.onPin&&this.onPin.call(this))},freeze:function(){this.frozen=!0,this.addClass("frozen")},unfreeze:function(){this.frozen=!1,this.removeClass("frozen")},top:function(){this.hasClass("top")||(this.addClass("top"),this.removeClass("notTop"),this.onTop&&this.onTop.call(this))},notTop:function(){this.hasClass("notTop")||(this.addClass("notTop"),this.removeClass("top"),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){this.hasClass("bottom")||(this.addClass("bottom"),this.removeClass("notBottom"),this.onBottom&&this.onBottom.call(this))},notBottom:function(){this.hasClass("notBottom")||(this.addClass("notBottom"),this.removeClass("bottom"),this.onNotBottom&&this.onNotBottom.call(this))},shouldUnpin:function(t){return"down"===t.direction&&!t.top&&t.toleranceExceeded},shouldPin:function(t){return"up"===t.direction&&t.toleranceExceeded||t.top},addClass:function(t){this.elem.classList.add.apply(this.elem.classList,this.classes[t].split(" "))},removeClass:function(t){this.elem.classList.remove.apply(this.elem.classList,this.classes[t].split(" "))},hasClass:function(t){return this.classes[t].split(" ").every(function(t){return this.classList.contains(t)},this.elem)},update:function(t){t.isOutOfBounds||!0!==this.frozen&&(t.top?this.top():this.notTop(),t.bottom?this.bottom():this.notBottom(),this.shouldUnpin(t)?this.unpin():this.shouldPin(t)&&this.pin())}},i.options={tolerance:{up:0,down:0},offset:0,scroller:t()?window:null,classes:{frozen:"headroom--frozen",pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},i.cutsTheMustard=!!(t()&&(function(){}).bind&&"classList"in document.documentElement&&Object.assign&&Object.keys&&requestAnimationFrame),i}),/*! odometer 0.4.6 */ (function(){var t,e,i,s,n,a,o,r,l,h,u,d,p,c,m,f,y,g,v,b,$,w,T,E,_,k,x,V,C,P,A,S,L=[].slice;s='<span class="odometer-digit"><span class="odometer-digit-spacer">8</span><span class="odometer-digit-inner">'+(c='<span class="odometer-ribbon"><span class="odometer-ribbon-inner">'+(y='<span class="odometer-value"></span>')+"</span></span>")+"</span></span>",o='<span class="odometer-formatting-mark"></span>',i="(,ddd).dd",r=/^\(?([^)]*)\)?(?:(.)(d+))?$/,a=2e3,t=20,h=2,n=.5,u=1e3/(l=30),e=1e3/t,m="transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",f=null!=(_=document.createElement("div").style).transition||null!=_.webkitTransition||null!=_.mozTransition||null!=_.oTransition,T=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,v=function(t){var e;return(e=document.createElement("div")).innerHTML=t,e.children[0]},w=function(t,e){return t.className=t.className.replace(RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi")," ")},g=function(t,e){return w(t,e),t.className+=" "+e},k=function(t,e){var i;return null!=document.createEvent?((i=document.createEvent("HTMLEvents")).initEvent(e,!0,!0),t.dispatchEvent(i)):void 0},$=function(){var t,e;return null!=(t=null!=(e=window.performance)&&"function"==typeof e.now?e.now():void 0)?t:+new Date},E=function(t,e){return null==e&&(e=0),e?(t*=Math.pow(10,e),t+=.5,t=Math.floor(t),t/=Math.pow(10,e)):Math.round(t)},x=function(t){return 0>t?Math.ceil(t):Math.floor(t)},b=function(t){return t-E(t)},C=!1,(V=function(){var t,e,i,s,n;if(!C&&null!=window.jQuery){for(C=!0,n=[],e=0,i=(s=["html","text"]).length;i>e;e++)t=s[e],n.push(function(t){var e;return e=window.jQuery.fn[t],window.jQuery.fn[t]=function(t){var i;return null==t||null==(null!=(i=this[0])?i.odometer:void 0)?e.apply(this,arguments):this[0].odometer.update(t)}}(t));return n}})(),setTimeout(V,0),(p=function(){function t(e){var i,s,n,o,r,l,d,p,c,m,f=this;if(this.options=e,this.el=this.options.el,null!=this.el.odometer)return this.el.odometer;for(s in this.el.odometer=this,p=t.options)o=p[s],null==this.options[s]&&(this.options[s]=o);null==(r=this.options).duration&&(r.duration=a),this.MAX_VALUES=this.options.duration/u/h|0,this.resetFormat(),this.value=this.cleanValue(null!=(c=this.options.value)?c:""),this.renderInside(),this.render();try{for(m=["innerHTML","innerText","textContent"],l=0,d=m.length;d>l;l++)n=m[l],null!=this.el[n]&&function(t){Object.defineProperty(f.el,t,{get:function(){var e;return"innerHTML"===t?f.inside.outerHTML:null!=(e=f.inside.innerText)?e:f.inside.textContent},set:function(t){return f.update(t)}})}(n)}catch(y){i=y,this.watchForMutations()}}return t.prototype.renderInside=function(){return this.inside=document.createElement("div"),this.inside.className="odometer-inside",this.el.innerHTML="",this.el.appendChild(this.inside)},t.prototype.watchForMutations=function(){var t,e=this;if(null!=d)try{return null==this.observer&&(this.observer=new d(function(){var t;return t=e.el.innerText,e.renderInside(),e.render(e.value),e.update(t)})),this.watchMutations=!0,this.startWatchingMutations()}catch(i){t=i}},t.prototype.startWatchingMutations=function(){return this.watchMutations?this.observer.observe(this.el,{childList:!0}):void 0},t.prototype.stopWatchingMutations=function(){var t;return null!=(t=this.observer)?t.disconnect():void 0},t.prototype.cleanValue=function(t){var e;return"string"==typeof t&&(t=parseFloat(t=(t=(t=t.replace(null!=(e=this.format.radix)?e:".","<radix>")).replace(/[.,]/g,"")).replace("<radix>","."),10)||0),E(t,this.format.precision)},t.prototype.bindTransitionEnd=function(){var t,e,i,s,n,a,o=this;if(!this.transitionEndBound){for(this.transitionEndBound=!0,e=!1,n=m.split(" "),a=[],i=0,s=n.length;s>i;i++)t=n[i],a.push(this.el.addEventListener(t,function(){return!!e||(e=!0,setTimeout(function(){return o.render(),e=!1,k(o.el,"odometerdone")},0),!0)},!1));return a}},t.prototype.resetFormat=function(){var t,e,s,n,a,o,l,h;if((t=null!=(l=this.options.format)?l:i)||(t="d"),!(s=r.exec(t)))throw Error("Odometer: Unparsable digit format");return o=(h=s.slice(1,4))[0],a=h[1],n=(null!=(e=h[2])?e.length:void 0)||0,this.format={repeating:o,radix:a,precision:n}},t.prototype.render=function(t){var e,i,s,n,a,o,r,l,h,u,d,p;for(null==t&&(t=this.value),this.stopWatchingMutations(),this.resetFormat(),this.inside.innerHTML="",o=this.options.theme,e=this.el.className.split(" "),a=[],l=0,u=e.length;u>l;l++)(i=e[l]).length&&((n=/^odometer-theme-(.+)$/.exec(i))?o=n[1]:/^odometer(-|$)/.test(i)||a.push(i));for(a.push("odometer"),f||a.push("odometer-no-transitions"),a.push(o?"odometer-theme-"+o:"odometer-auto-theme"),this.el.className=a.join(" "),this.ribbons={},this.digits=[],r=!this.format.precision||!b(t),p=t.toString().split("").reverse(),h=0,d=p.length;d>h;h++)"."===(s=p[h])&&(r=!0),this.addDigit(s,r);return this.startWatchingMutations()},t.prototype.update=function(t){var e,i=this;return(e=(t=this.cleanValue(t))-this.value)?(w(this.el,"odometer-animating-up odometer-animating-down odometer-animating"),e>0?g(this.el,"odometer-animating-up"):g(this.el,"odometer-animating-down"),this.stopWatchingMutations(),this.animate(t),this.startWatchingMutations(),setTimeout(function(){return i.el.offsetHeight,g(i.el,"odometer-animating")},0),this.value=t):void 0},t.prototype.renderDigit=function(){return v(s)},t.prototype.insertDigit=function(t,e){return null!=e?this.inside.insertBefore(t,e):this.inside.children.length?this.inside.insertBefore(t,this.inside.children[0]):this.inside.appendChild(t)},t.prototype.addSpacer=function(t,e,i){var s;return(s=v(o)).innerHTML=t,i&&g(s,i),this.insertDigit(s,e)},t.prototype.addDigit=function(t,e){var i,s,n,a;if(null==e&&(e=!0),"-"===t)return this.addSpacer(t,null,"odometer-negation-mark");if("."===t)return this.addSpacer(null!=(a=this.format.radix)?a:".",null,"odometer-radix-mark");if(e)for(n=!1;;){if(!this.format.repeating.length){if(n)throw Error("Bad odometer format without digits");this.resetFormat(),n=!0}if(i=this.format.repeating[this.format.repeating.length-1],this.format.repeating=this.format.repeating.substring(0,this.format.repeating.length-1),"d"===i)break;this.addSpacer(i)}return(s=this.renderDigit()).querySelector(".odometer-value").innerHTML=t,this.digits.push(s),this.insertDigit(s)},t.prototype.animate=function(t){return f&&"count"!==this.options.animation?this.animateSlide(t):this.animateCount(t)},t.prototype.animateCount=function(t){var i,s,n,a,o,r=this;if(s=+t-this.value)return a=n=$(),i=this.value,(o=function(){var l,h,u;return $()-a>r.options.duration?(r.value=t,r.render(),void k(r.el,"odometerdone")):((l=$()-n)>e&&(n=$(),i+=h=s*(u=l/r.options.duration),r.render(Math.round(i))),null!=T?T(o):setTimeout(o,e))})()},t.prototype.getDigitCount=function(){var t,e,i,s,n,a;for(s=1<=arguments.length?L.call(arguments,0):[],t=n=0,a=s.length;a>n;t=++n)i=s[t],s[t]=Math.abs(i);return Math.ceil(Math.log((e=Math.max.apply(Math,s))+1)/Math.log(10))},t.prototype.getFractionalDigitCount=function(){var t,e,i,s,n,a,o;for(n=1<=arguments.length?L.call(arguments,0):[],e=/^\-?\d*\.(\d*?)0*$/,t=a=0,o=n.length;o>a;t=++a)s=n[t],n[t]=s.toString(),i=e.exec(n[t]),n[t]=null==i?0:i[1].length;return Math.max.apply(Math,n)},t.prototype.resetDigits=function(){return this.digits=[],this.ribbons=[],this.inside.innerHTML="",this.resetFormat()},t.prototype.animateSlide=function(t){var e,i,s,a,o,r,l,h,u,d,p,c,m,f,y,v,b,$,w,T,E,_,k,V,C,P,A;if(v=this.value,(h=this.getFractionalDigitCount(v,t))&&(t*=Math.pow(10,h),v*=Math.pow(10,h)),s=t-v){for(this.bindTransitionEnd(),a=this.getDigitCount(v,t),o=[],e=0,p=w=0;a>=0?a>w:w>a;p=a>=0?++w:--w){if(b=x(v/Math.pow(10,a-p-1)),Math.abs(r=(l=x(t/Math.pow(10,a-p-1)))-b)>this.MAX_VALUES){for(d=[],c=r/(this.MAX_VALUES+this.MAX_VALUES*e*n),i=b;r>0&&l>i||0>r&&i>l;)d.push(Math.round(i)),i+=c;d[d.length-1]!==l&&d.push(l),e++}else d=(function(){A=[];for(var t=b;l>=b?l>=t:t>=l;l>=b?t++:t--)A.push(t);return A}).apply(this);for(p=T=0,_=d.length;_>T;p=++T)u=d[p],d[p]=Math.abs(u%10);o.push(d)}for(this.resetDigits(),P=o.reverse(),p=E=0,k=P.length;k>E;p=++E)for(d=P[p],this.digits[p]||this.addDigit(" ",p>=h),null==($=this.ribbons)[p]&&($[p]=this.digits[p].querySelector(".odometer-ribbon-inner")),this.ribbons[p].innerHTML="",0>s&&(d=d.reverse()),m=C=0,V=d.length;V>C;m=++C)u=d[m],(y=document.createElement("div")).className="odometer-value",y.innerHTML=u,this.ribbons[p].appendChild(y),m===d.length-1&&g(y,"odometer-last-value"),0===m&&g(y,"odometer-first-value");return 0>b&&this.addDigit("-"),null!=(f=this.inside.querySelector(".odometer-radix-mark"))&&f.parent.removeChild(f),h?this.addSpacer(this.format.radix,this.digits[h-1],"odometer-radix-mark"):void 0}},t}()).options=null!=(A=window.odometerOptions)?A:{},setTimeout(function(){var t,e,i,s,n;if(window.odometerOptions){for(t in s=window.odometerOptions,n=[],s)e=s[t],n.push(null!=(i=p.options)[t]?(i=p.options)[t]:i[t]=e);return n}},0),p.init=function(){var t,e,i,s,n,a;if(null!=document.querySelectorAll){for(e=document.querySelectorAll(p.options.selector||".odometer"),a=[],i=0,s=e.length;s>i;i++)t=e[i],a.push(t.odometer=new p({el:t,value:null!=(n=t.innerText)?n:t.textContent}));return a}},null!=(null!=(S=document.documentElement)?S.doScroll:void 0)&&null!=document.createEventObject?(P=document.onreadystatechange,document.onreadystatechange=function(){return"complete"===document.readyState&&!1!==p.options.auto&&p.init(),null!=P?P.apply(this,arguments):void 0}):document.addEventListener("DOMContentLoaded",function(){return!1!==p.options.auto?p.init():void 0},!1),"function"==typeof define&&define.amd?define(["jquery"],function(){return p}):window.Odometer=p}).call(this),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("simpleParallax",[],e):"object"==typeof exports?exports.simpleParallax=e():t.simpleParallax=e()}(window,function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e||4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,(function(e){return t[e]}).bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";function s(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}i.r(e),i.d(e,"default",function(){return v});var n=new(function(){var t,e,i;function n(){(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,n),this.positions={top:0,bottom:0,height:0}}return t=n,e=[{key:"setViewportTop",value:function(t){return this.positions.top=t?t.scrollTop:window.pageYOffset,this.positions}},{key:"setViewportBottom",value:function(){return this.positions.bottom=this.positions.top+this.positions.height,this.positions}},{key:"setViewportAll",value:function(t){return this.positions.top=t?t.scrollTop:window.pageYOffset,this.positions.height=t?t.clientHeight:document.documentElement.clientHeight,this.positions.bottom=this.positions.top+this.positions.height,this.positions}}],s(t.prototype,e),i&&s(t,i),n}()),a=function(t){return NodeList.prototype.isPrototypeOf(t)||HTMLCollection.prototype.isPrototypeOf(t)?Array.from(t):"string"==typeof t||t instanceof String?document.querySelectorAll(t):[t]},o=function(){for(var t,e="transform webkitTransform mozTransform oTransform msTransform".split(" "),i=0;void 0===t;)t=void 0!==document.createElement("div").style[e[i]]?e[i]:void 0,i+=1;return t}();function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=Array(e);i<e;i++)s[i]=t[i];return s}function l(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var h=function(){var t,e,i;function s(t,e){var i,n=this;(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,s),this.element=t,this.elementContainer=t,this.settings=e,this.isVisible=!0,this.isInit=!1,this.oldTranslateValue=-1,this.init=this.init.bind(this),this.customWrapper=this.settings.customWrapper&&this.element.closest(this.settings.customWrapper)?this.element.closest(this.settings.customWrapper):null,"img"!==(i=t).tagName.toLowerCase()&&"picture"!==i.tagName.toLowerCase()||i&&i.complete&&(void 0===i.naturalWidth||0!==i.naturalWidth)?this.init():this.element.addEventListener("load",function(){setTimeout(function(){n.init(!0)},50)})}return t=s,e=[{key:"init",value:function(t){var e=this;this.isInit||(t&&(this.rangeMax=null),this.element.closest(".simpleParallax")||(!1===this.settings.overflow&&this.wrapElement(this.element),this.setTransformCSS(),this.getElementOffset(),this.intersectionObserver(),this.getTranslateValue(),this.animate(),this.settings.delay>0?setTimeout(function(){e.setTransitionCSS(),e.elementContainer.classList.add("simple-parallax-initialized")},10):this.elementContainer.classList.add("simple-parallax-initialized"),this.isInit=!0))}},{key:"wrapElement",value:function(){var t=this.element.closest("picture")||this.element,e=this.customWrapper||document.createElement("div");e.classList.add("simpleParallax"),e.style.overflow="hidden",this.customWrapper||(t.parentNode.insertBefore(e,t),e.appendChild(t)),this.elementContainer=e}},{key:"unWrapElement",value:function(){var t,e=this.elementContainer;this.customWrapper?(e.classList.remove("simpleParallax"),e.style.overflow=""):e.replaceWith.apply(e,function(t){if(Array.isArray(t))return r(t)}(t=e.childNodes)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if("Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return r(t,e)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}},{key:"setTransformCSS",value:function(){!1===this.settings.overflow&&(this.element.style[o]="scale(".concat(this.settings.scale,")")),this.element.style.willChange="transform"}},{key:"setTransitionCSS",value:function(){this.element.style.transition="transform ".concat(this.settings.delay,"s ").concat(this.settings.transition)}},{key:"unSetStyle",value:function(){this.element.style.willChange="",this.element.style[o]="",this.element.style.transition=""}},{key:"getElementOffset",value:function(){var t=this.elementContainer.getBoundingClientRect();if(this.elementHeight=t.height,this.elementTop=t.top+n.positions.top,this.settings.customContainer){var e=this.settings.customContainer.getBoundingClientRect();this.elementTop=t.top-e.top+n.positions.top}this.elementBottom=this.elementHeight+this.elementTop}},{key:"buildThresholdList",value:function(){for(var t=[],e=1;e<=this.elementHeight;e++){var i=e/this.elementHeight;t.push(i)}return t}},{key:"intersectionObserver",value:function(){var t={root:null,threshold:this.buildThresholdList()};this.observer=new IntersectionObserver(this.intersectionObserverCallback.bind(this),t),this.observer.observe(this.element)}},{key:"intersectionObserverCallback",value:function(t){var e=this;t.forEach(function(t){t.isIntersecting?e.isVisible=!0:e.isVisible=!1})}},{key:"checkIfVisible",value:function(){return this.elementBottom>n.positions.top&&this.elementTop<n.positions.bottom}},{key:"getRangeMax",value:function(){var t=this.element.clientHeight;this.rangeMax=t*this.settings.scale-t}},{key:"getTranslateValue",value:function(){var t=((n.positions.bottom-this.elementTop)/((n.positions.height+this.elementHeight)/100)).toFixed(1);return t=Math.min(100,Math.max(0,t)),0!==this.settings.maxTransition&&t>this.settings.maxTransition&&(t=this.settings.maxTransition),this.oldPercentage!==t&&(this.rangeMax||this.getRangeMax(),this.translateValue=(t/100*this.rangeMax-this.rangeMax/2).toFixed(0),this.oldTranslateValue!==this.translateValue&&(this.oldPercentage=t,this.oldTranslateValue=this.translateValue,!0))}},{key:"animate",value:function(){var t,e=0,i=0;(this.settings.orientation.includes("left")||this.settings.orientation.includes("right"))&&(i="".concat(this.settings.orientation.includes("left")?-1*this.translateValue:this.translateValue,"px")),(this.settings.orientation.includes("up")||this.settings.orientation.includes("down"))&&(e="".concat(this.settings.orientation.includes("up")?-1*this.translateValue:this.translateValue,"px")),t=!1===this.settings.overflow?"translate3d(".concat(i,", ").concat(e,", 0) scale(").concat(this.settings.scale,")"):"translate3d(".concat(i,", ").concat(e,", 0)"),this.element.style[o]=t}}],l(t.prototype,e),i&&l(t,i),s}();function u(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||d(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){if(t){if("string"==typeof t)return p(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=Array(e);i<e;i++)s[i]=t[i];return s}function c(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var m,f,y=!1,g=[],v=function(){var t,e,i;function s(t,e){if(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,s),t&&Element.prototype.closest&&"IntersectionObserver"in window){if(this.elements=a(t),this.defaults={delay:0,orientation:"up",scale:1.3,overflow:!1,transition:"cubic-bezier(0,0,0,1)",customContainer:"",customWrapper:"",maxTransition:0},this.settings=Object.assign(this.defaults,e),this.settings.customContainer){var i,n=function(t){if(Array.isArray(t))return t}(i=a(this.settings.customContainer))||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],s=!0,n=!1,a=void 0;try{for(var o,r=t[Symbol.iterator]();!(s=(o=r.next()).done)&&(i.push(o.value),!e||i.length!==e);s=!0);}catch(l){n=!0,a=l}finally{try{s||null==r.return||r.return()}finally{if(n)throw a}}return i}}(i,1)||d(i,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();this.customContainer=n[0]}this.lastPosition=-1,this.resizeIsDone=this.resizeIsDone.bind(this),this.refresh=this.refresh.bind(this),this.proceedRequestAnimationFrame=this.proceedRequestAnimationFrame.bind(this),this.init()}}return t=s,e=[{key:"init",value:function(){var t=this;n.setViewportAll(this.customContainer),g=[].concat(u(this.elements.map(function(e){return new h(e,t.settings)})),u(g)),y||(this.proceedRequestAnimationFrame(),window.addEventListener("resize",this.resizeIsDone),y=!0)}},{key:"resizeIsDone",value:function(){clearTimeout(f),f=setTimeout(this.refresh,200)}},{key:"proceedRequestAnimationFrame",value:function(){var t=this;n.setViewportTop(this.customContainer),this.lastPosition!==n.positions.top?(n.setViewportBottom(),g.forEach(function(e){t.proceedElement(e)}),m=window.requestAnimationFrame(this.proceedRequestAnimationFrame),this.lastPosition=n.positions.top):m=window.requestAnimationFrame(this.proceedRequestAnimationFrame)}},{key:"proceedElement",value:function(t){(this.customContainer?t.checkIfVisible():t.isVisible)&&t.getTranslateValue()&&t.animate()}},{key:"refresh",value:function(){n.setViewportAll(this.customContainer),g.forEach(function(t){t.getElementOffset(),t.getRangeMax()}),this.lastPosition=-1}},{key:"destroy",value:function(){var t=this,e=[];g=g.filter(function(i){return t.elements.includes(i.element)?(e.push(i),!1):i}),e.forEach(function(e){e.unSetStyle(),!1===t.settings.overflow&&e.unWrapElement()}),g.length||(window.cancelAnimationFrame(m),window.removeEventListener("resize",this.refresh),y=!1)}}],c(t.prototype,e),i&&c(t,i),s}()}]).default});